{"remainingRequest":"D:\\front-end files\\test\\my-gridsome\\node_modules\\babel-loader\\lib\\index.js??ref--1-1!D:\\front-end files\\test\\my-gridsome\\node_modules\\gridsome\\app\\directives\\link.js","dependencies":[{"path":"D:\\front-end files\\test\\my-gridsome\\node_modules\\gridsome\\app\\directives\\link.js","mtime":1628149246767},{"path":"D:\\front-end files\\test\\my-gridsome\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628149244789},{"path":"D:\\front-end files\\test\\my-gridsome\\node_modules\\babel-loader\\lib\\index.js","mtime":1628149244548}],"contextDependencies":[],"result":["import \"core-js/modules/web.timers.js\";\nimport fetch from '../fetch';\nimport router from '../router';\nimport caniuse from '../utils/caniuse';\nimport { stripPathPrefix } from '../utils/helpers';\nimport { createObserver } from '../utils/intersectionObserver';\nvar isPreloaded = {};\nvar observer = caniuse.IntersectionObserver ? createObserver(intersectionHandler) : null;\nexport default {\n  inserted: function inserted(el) {\n    observer && observer.observe(el);\n  },\n  unbind: function unbind(el) {\n    observer && observer.unobserve(el);\n  }\n};\n\nfunction intersectionHandler(_ref) {\n  var intersectionRatio = _ref.intersectionRatio,\n      target = _ref.target;\n\n  if (process.isClient) {\n    if (intersectionRatio > 0) {\n      observer.unobserve(target);\n\n      if (document.location.hostname === target.hostname) {\n        if (isPreloaded[target.pathname]) return;else isPreloaded[target.pathname] = true;\n        var path = stripPathPrefix(target.pathname);\n\n        var _router$resolve = router.resolve({\n          path: path\n        }),\n            route = _router$resolve.route;\n\n        setTimeout(function () {\n          return fetch(route, {\n            shouldPrefetch: true\n          });\n        }, 250);\n      }\n    }\n  }\n}",{"version":3,"sources":["D:/front-end files/test/my-gridsome/node_modules/gridsome/app/directives/link.js"],"names":["fetch","router","caniuse","stripPathPrefix","createObserver","isPreloaded","observer","IntersectionObserver","intersectionHandler","inserted","el","observe","unbind","unobserve","intersectionRatio","target","process","isClient","document","location","hostname","pathname","path","resolve","route","setTimeout","shouldPrefetch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,UAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,eAAT,QAAgC,kBAAhC;AACA,SAASC,cAAT,QAA+B,+BAA/B;AAEA,IAAMC,WAAW,GAAG,EAApB;AAEA,IAAMC,QAAQ,GAAGJ,OAAO,CAACK,oBAAR,GACbH,cAAc,CAACI,mBAAD,CADD,GAEb,IAFJ;AAIA,eAAe;AACbC,EAAAA,QADa,oBACHC,EADG,EACC;AACZJ,IAAAA,QAAQ,IAAIA,QAAQ,CAACK,OAAT,CAAiBD,EAAjB,CAAZ;AACD,GAHY;AAIbE,EAAAA,MAJa,kBAILF,EAJK,EAID;AACVJ,IAAAA,QAAQ,IAAIA,QAAQ,CAACO,SAAT,CAAmBH,EAAnB,CAAZ;AACD;AANY,CAAf;;AASA,SAASF,mBAAT,OAA6D;AAAA,MAA7BM,iBAA6B,QAA7BA,iBAA6B;AAAA,MAAVC,MAAU,QAAVA,MAAU;;AAC3D,MAAIC,OAAO,CAACC,QAAZ,EAAsB;AACpB,QAAIH,iBAAiB,GAAG,CAAxB,EAA2B;AACzBR,MAAAA,QAAQ,CAACO,SAAT,CAAmBE,MAAnB;;AAEA,UAAIG,QAAQ,CAACC,QAAT,CAAkBC,QAAlB,KAA+BL,MAAM,CAACK,QAA1C,EAAoD;AAClD,YAAIf,WAAW,CAACU,MAAM,CAACM,QAAR,CAAf,EAAkC,OAAlC,KACKhB,WAAW,CAACU,MAAM,CAACM,QAAR,CAAX,GAA+B,IAA/B;AAEL,YAAMC,IAAI,GAAGnB,eAAe,CAACY,MAAM,CAACM,QAAR,CAA5B;;AACA,8BAAkBpB,MAAM,CAACsB,OAAP,CAAe;AAAED,UAAAA,IAAI,EAAJA;AAAF,SAAf,CAAlB;AAAA,YAAQE,KAAR,mBAAQA,KAAR;;AAEAC,QAAAA,UAAU,CAAC;AAAA,iBAAMzB,KAAK,CAACwB,KAAD,EAAQ;AAAEE,YAAAA,cAAc,EAAE;AAAlB,WAAR,CAAX;AAAA,SAAD,EAA+C,GAA/C,CAAV;AACD;AACF;AACF;AACF","sourcesContent":["import fetch from '../fetch'\r\nimport router from '../router'\r\nimport caniuse from '../utils/caniuse'\r\nimport { stripPathPrefix } from '../utils/helpers'\r\nimport { createObserver } from '../utils/intersectionObserver'\r\n\r\nconst isPreloaded = {}\r\n\r\nconst observer = caniuse.IntersectionObserver\r\n  ? createObserver(intersectionHandler)\r\n  : null\r\n\r\nexport default {\r\n  inserted (el) {\r\n    observer && observer.observe(el)\r\n  },\r\n  unbind (el) {\r\n    observer && observer.unobserve(el)\r\n  }\r\n}\r\n\r\nfunction intersectionHandler ({ intersectionRatio, target }) {\r\n  if (process.isClient) {\r\n    if (intersectionRatio > 0) {\r\n      observer.unobserve(target)\r\n\r\n      if (document.location.hostname === target.hostname) {\r\n        if (isPreloaded[target.pathname]) return\r\n        else isPreloaded[target.pathname] = true\r\n\r\n        const path = stripPathPrefix(target.pathname)\r\n        const { route } = router.resolve({ path })\r\n\r\n        setTimeout(() => fetch(route, { shouldPrefetch: true }), 250)\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}]}